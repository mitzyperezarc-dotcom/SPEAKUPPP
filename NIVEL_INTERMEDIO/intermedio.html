<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Nivel Intermedio - SpeakUpp</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body>

<div class="app">

  <img src="../Logo.jpeg" class="logo-img">

  <h2>Nivel Intermedio</h2>
  <p class="subtitle">MÃ³dulo 2 - InglÃ©s para la ComunicaciÃ³n</p>

  <!-- BARRA DE PROGRESO -->
  <div class="barra-contenedor">
    <div class="barra-progreso" id="barra"></div>
  </div>
  <p id="porcentaje">0% completado</p>

  <!-- TEMA 1 -->
  <div class="nivel" id="tema1">
    <h3 class="tema-titulo">Tema 2.1</h3>
    <p>Saludos, presentaciones y despedidas</p>
    <button onclick="abrirTema(1, 'tema2_1.html')">Entrar</button>
    <button onclick="abrirTema(1, 'ejercicio2_1.html')">Practicar</button>
  </div>

  <!-- TEMA 2 -->
  <div class="nivel bloqueado" id="tema2">
    <h3 class="tema-titulo">Tema 2.2 ðŸ”’</h3>
    <p>Frases y expresiones comunes</p>
    <button onclick="abrirTema(2, 'tema2_2.html')" disabled>Entrar</button>
    <button onclick="abrirTema(2, 'ejercicio2_2.html')" disabled>Practicar</button>
  </div>

  <!-- TEMA 3 -->
  <div class="nivel bloqueado" id="tema3">
    <h3 class="tema-titulo">Tema 2.3 ðŸ”’</h3>
    <p>Situaciones cotidianas</p>
    <button onclick="abrirTema(3, 'tema2_3.html')" disabled>Entrar</button>
    <button onclick="abrirTema(3, 'ejercicio2_3.html')" disabled>Practicar</button>
  </div>

  <!-- TEMA 4 -->
  <div class="nivel bloqueado" id="tema4">
    <h3 class="tema-titulo">Tema 2.4 ðŸ”’</h3>
    <p>Opiniones y sentimientos</p>
    <button onclick="abrirTema(4, 'tema2_4.html')" disabled>Entrar</button>
    <button onclick="abrirTema(4, 'ejercicio2_4.html')" disabled>Practicar</button>
  </div>

  <!-- TEMA 5 -->
  <div class="nivel bloqueado" id="tema5">
    <h3 class="tema-titulo">Tema 2.5 ðŸ”’</h3>
    <p>PrÃ¡ctica de conversaciones</p>
    <button onclick="abrirTema(5, 'tema2_5.html')" disabled>Entrar</button>
    <button onclick="abrirTema(5, 'ejercicio2_5.html')" disabled>Practicar</button>
  </div>

  <!-- BOTÃ“N VOLVER -->
  <button onclick="window.location.href='../niveles.html'">Volver</button>

</div>

<script>
function abrirTema(num, url) {
  // Guardar progreso si el tema abierto es mayor al actual
  const completado = Number(localStorage.getItem("intermedioCompletado") || 0);
  if (num > completado) {
    localStorage.setItem("intermedioCompletado", num);
  }
  window.location.href = url;
}

const completado = Number(localStorage.getItem("intermedioCompletado")) || 0;
const total = 5;
const porcentaje = Math.round((completado / total) * 100);

// Actualizar barra de progreso
document.getElementById("barra").style.width = porcentaje + "%";
document.getElementById("porcentaje").innerText = porcentaje + "% completado";

// Desbloquear temas segÃºn el progreso
for (let i = 1; i <= total; i++) {
  const tema = document.getElementById("tema" + i);
  const botones = tema.querySelectorAll("button");

  if (i <= completado + 1) { // Desbloquea el siguiente tema disponible
    tema.classList.remove("bloqueado");
    botones.forEach(btn => btn.disabled = false);
    tema.querySelector("h3").innerHTML = "Tema 2." + i;
  } else {
    tema.classList.add("bloqueado");
    botones.forEach(btn => {
      btn.disabled = true;
      btn.innerText = btn.innerText.includes("Entrar") ? "Bloqueado" : btn.innerText;
    });
  }
}
</script>

</body>
</html>
<link rel="stylesheet" href="../style.css">
<script src="../scrip.js"></script>
<img src="../logo.jpeg" class="logo-img">
