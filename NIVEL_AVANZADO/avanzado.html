<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Nivel Avanzado - SpeakUpp</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body>

<div class="app">

  <img src="../Logo.jpeg" class="logo-img">

  <h2>Nivel Avanzado</h2>
  <p class="subtitle">MÃ³dulo 3 - InglÃ©s Avanzado</p>

  <!-- BARRA DE PROGRESO -->
  <div class="barra-contenedor">
    <div class="barra-progreso" id="barra"></div>
  </div>
  <p id="porcentaje">0% completado</p>

  <!-- TEMA 1 -->
  <div class="nivel" id="tema1">
    <h3 class="tema-titulo">Tema 3.1</h3>
    <p>Lectura en InglÃ©s</p>
    <button onclick="abrirTema(1, 'tema3_1.html')">Entrar</button>
    <button onclick="abrirTema(1, 'ejercicio3_1.html')">Practicar</button>
  </div>

  <!-- TEMA 2 -->
  <div class="nivel bloqueado" id="tema2">
    <h3 class="tema-titulo">Tema 3.2 ðŸ”’</h3>
    <p>Escritura en InglÃ©s</p>
    <button onclick="abrirTema(2, 'tema3_2.html')" disabled>Entrar</button>
    <button onclick="abrirTema(2, 'ejercicio3_2.html')" disabled>Practicar</button>
  </div>

  <!-- TEMA 3 -->
  <div class="nivel bloqueado" id="tema3">
    <h3 class="tema-titulo">Tema 3.3 ðŸ”’</h3>
    <p>IdentificaciÃ³n de Estructuras</p>
    <button onclick="abrirTema(3, 'tema3_3.html')" disabled>Entrar</button>
    <button onclick="abrirTema(3, 'ejercicio3_3.html')" disabled>Practicar</button>
  </div>

  <!-- TEMA 4 -->
  <div class="nivel bloqueado" id="tema4">
    <h3 class="tema-titulo">Tema 3.4 ðŸ”’</h3>
    <p>Critical Reading</p>
    <button onclick="abrirTema(4, 'tema3_4.html')" disabled>Entrar</button>
    <button onclick="abrirTema(4, 'ejercicio3_4.html')" disabled>Practicar</button>
  </div>

  <!-- TEMA 5 -->
  <div class="nivel bloqueado" id="tema5">
    <h3 class="tema-titulo">Tema 3.5 ðŸ”’</h3>
    <p>Writing Challenge</p>
    <button onclick="abrirTema(5, 'tema3_5.html')" disabled>Entrar</button>
    <button onclick="abrirTema(5, 'ejercicio3_5.html')" disabled>Practicar</button>
  </div>

  <!-- BOTÃ“N VOLVER -->
  <button onclick="window.location.href='../niveles.html'">Volver</button>

</div>

<script>
function abrirTema(num, url) {
  // Guardar progreso si el tema abierto es mayor al actual
  const completado = Number(localStorage.getItem("avanzadoCompletado") || 0);
  if (num > completado) {
    localStorage.setItem("avanzadoCompletado", num);
  }
  window.location.href = url;
}

const completado = Number(localStorage.getItem("avanzadoCompletado")) || 0;
const total = 5;
const porcentaje = Math.round((completado / total) * 100);

// Actualizar barra de progreso
document.getElementById("barra").style.width = porcentaje + "%";
document.getElementById("porcentaje").innerText = porcentaje + "% completado";

// Desbloquear temas segÃºn el progreso
for (let i = 1; i <= completado; i++) {
  const tema = document.getElementById("tema" + (i + 1));
  if (tema) {
    tema.classList.remove("bloqueado");
    tema.querySelectorAll("button").forEach(btn => btn.disabled = false);
    tema.querySelector("h3").innerHTML = "Tema 3." + (i + 1);
  }
}
</script>

</body>
</html>
